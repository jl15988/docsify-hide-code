{"version":3,"file":"docsify-hide-code.min.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/index.js","../src/hide-code.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","import './hide-code.css'\r\nimport hideCode from \"./hide-code\";\r\n\r\nwindow.$docsify = window.$docsify || {};\r\nwindow.$docsify.plugins = [hideCode].concat(window.$docsify.plugins || []);","function hideCode(hook, vm) {\r\n    var hideCodeConfig = vm.config.hideCode;\r\n    hook.doneEach(function () {\r\n        if (hideCodeConfig) {\r\n            var targetElms = Array.apply(null, document.querySelectorAll(\"pre[data-lang]\"));\r\n            var template = ['<div class=\"hide-code-mask\">', '<div class=\"hide-code-mask-btn\">', '</div>'].join(\"\");\r\n            targetElms.forEach(function (elm) {\r\n                if (!hideCodeConfig.scroll && hideCodeConfig.height < elm.offsetHeight) {\r\n                    elm.classList.add('hide-code');\r\n                }\r\n                elm.style.maxHeight = hideCodeConfig.height + 'px';\r\n                elm.insertAdjacentHTML(\"beforeend\", template);\r\n            });\r\n        }\r\n    });\r\n\r\n    hook.mounted(function () {\r\n        if (hideCodeConfig) {\r\n            var listenerHost = document.querySelector(\".content\");\r\n            listenerHost.addEventListener(\"click\", function (evt) {\r\n                var isCopyCodeButton = evt.target.classList.contains(\"hide-code-mask-btn\");\r\n                if (isCopyCodeButton) {\r\n                    var buttonElm = evt.target;\r\n                    var preElm = buttonElm.parentNode.parentNode;\r\n                    preElm.classList.remove('hide-code');\r\n                    preElm.style.maxHeight = \"\";\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport default hideCode;"],"names":["css","ref","head","style","insertAt","document","getElementsByTagName","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","window","$docsify","plugins","hook","vm","hideCodeConfig","config","hideCode","doneEach","targetElms","template","Array","apply","querySelectorAll","join","forEach","elm","scroll","height","offsetHeight","classList","add","maxHeight","insertAdjacentHTML","mounted","querySelector","addEventListener","evt","target","contains","preElm","parentNode","remove","concat"],"mappings":";;;;;;;6BAAqBA,EAAKC,EAMpBC,EACAC,EAPeH,seAEfI,GADkBH,EAAT,KAAA,IAARA,EAAuB,GACbA,GAAIG,SAEdJ,GAA2B,aAApB,OAAOK,WAEfH,EAAOG,SAASH,MAAQG,SAASC,qBAAqB,MAAM,EAAE,IAC9DH,EAAQE,SAASE,cAAc,OAAO,GACpCC,KAAO,WAEI,QAAbJ,GACEF,EAAKO,WACPP,EAAKQ,aAAaP,EAAOD,EAAKO,UAAU,EAK1CP,EAAKS,YAAYR,CAAK,EAGpBA,EAAMS,WACRT,EAAMS,WAAWC,QAAUb,EAE3BG,EAAMQ,YAAYN,SAASS,eAAed,CAAG,CAAC,GCpBlDe,OAAOC,SAAWD,OAAOC,UAAY,GACrCD,OAAOC,SAASC,QAAU,CCJ1B,SAAkBC,EAAMC,GACpB,IAAIC,EAAiBD,EAAGE,OAAOC,SAC/BJ,EAAKK,SAAS,WACV,IACQC,EACAC,EAFJL,IACII,EAAaE,MAAMC,MAAM,KAAMtB,SAASuB,iBAAiB,gBAAgB,CAAC,EAC1EH,EAAW,CAAC,+BAAgC,mCAAoC,UAAUI,KAAK,EAAE,EACrGL,EAAWM,QAAQ,SAAUC,GACrB,CAACX,EAAeY,QAAUZ,EAAea,OAASF,EAAIG,cACtDH,EAAII,UAAUC,IAAI,WAAW,EAEjCL,EAAI5B,MAAMkC,UAAYjB,EAAea,OAAS,KAC9CF,EAAIO,mBAAmB,YAAab,CAAQ,EAC/C,GAER,EAEDP,EAAKqB,QAAQ,WACLnB,GACmBf,SAASmC,cAAc,UAAU,EACvCC,iBAAiB,QAAS,SAAUC,GACtBA,EAAIC,OAAOR,UAAUS,SAAS,oBAAoB,KAGjEC,EADYH,EAAIC,OACGG,WAAWA,YAC3BX,UAAUY,OAAO,WAAW,EACnCF,EAAO1C,MAAMkC,UAAY,IAEhC,EAER,CACL,GD1BqCW,OAAOjC,OAAOC,SAASC,SAAW,EAAE"}