{"version":3,"file":"docsify-hide-code.js","sources":["../node_modules/style-inject/dist/style-inject.es.js","../src/hide-code.js","../src/index.js"],"sourcesContent":["function styleInject(css, ref) {\n  if ( ref === void 0 ) ref = {};\n  var insertAt = ref.insertAt;\n\n  if (!css || typeof document === 'undefined') { return; }\n\n  var head = document.head || document.getElementsByTagName('head')[0];\n  var style = document.createElement('style');\n  style.type = 'text/css';\n\n  if (insertAt === 'top') {\n    if (head.firstChild) {\n      head.insertBefore(style, head.firstChild);\n    } else {\n      head.appendChild(style);\n    }\n  } else {\n    head.appendChild(style);\n  }\n\n  if (style.styleSheet) {\n    style.styleSheet.cssText = css;\n  } else {\n    style.appendChild(document.createTextNode(css));\n  }\n}\n\nexport default styleInject;\n","function hideCode(hook, vm) {\r\n    var hideCodeConfig = vm.config.hideCode;\r\n    hook.doneEach(function () {\r\n        if (hideCodeConfig) {\r\n            var targetElms = Array.apply(null, document.querySelectorAll(\"pre[data-lang]\"));\r\n            var template = ['<div class=\"hide-code-mask\">', '<div class=\"hide-code-mask-btn\">', '</div>'].join(\"\");\r\n            targetElms.forEach(function (elm) {\r\n                if (!hideCodeConfig.scroll && hideCodeConfig.height < elm.offsetHeight) {\r\n                    elm.classList.add('hide-code');\r\n                }\r\n                elm.style.maxHeight = hideCodeConfig.height + 'px';\r\n                elm.insertAdjacentHTML(\"beforeend\", template);\r\n            });\r\n        }\r\n    });\r\n\r\n    hook.mounted(function () {\r\n        if (hideCodeConfig) {\r\n            var listenerHost = document.querySelector(\".content\");\r\n            listenerHost.addEventListener(\"click\", function (evt) {\r\n                var isCopyCodeButton = evt.target.classList.contains(\"hide-code-mask-btn\");\r\n                if (isCopyCodeButton) {\r\n                    var buttonElm = evt.target;\r\n                    var preElm = buttonElm.parentNode.parentNode;\r\n                    preElm.classList.remove('hide-code');\r\n                    preElm.style.maxHeight = \"\";\r\n                }\r\n            });\r\n        }\r\n    });\r\n}\r\n\r\nexport default hideCode;","import './hide-code.css'\r\nimport hideCode from \"./hide-code\";\r\n\r\nwindow.$docsify = window.$docsify || {};\r\nwindow.$docsify.plugins = [hideCode].concat(window.$docsify.plugins || []);"],"names":["styleInject","css","ref","insertAt","document","head","getElementsByTagName","style","createElement","type","firstChild","insertBefore","appendChild","styleSheet","cssText","createTextNode","hideCode","hook","vm","hideCodeConfig","config","doneEach","targetElms","Array","apply","querySelectorAll","template","join","forEach","elm","scroll","height","offsetHeight","classList","add","maxHeight","insertAdjacentHTML","mounted","listenerHost","querySelector","addEventListener","evt","isCopyCodeButton","target","contains","buttonElm","preElm","parentNode","remove","window","$docsify","plugins","concat"],"mappings":";;;;;;;;;IAAA,SAASA,YAAYC,KAAKC;QACxB,IAAKA,QAAQ,KAAK,GAAIA,MAAM;QAC5B,IAAIC,WAAWD,IAAIC;QAEnB,IAAI,CAACF,OAAO,OAAOG,aAAa,aAAa;YAAE;;QAE/C,IAAIC,OAAOD,SAASC,QAAQD,SAASE,qBAAqB,MAAM,EAAE;QAClE,IAAIC,QAAQH,SAASI,cAAc,OAAO;QAC1CD,MAAME,OAAO;QAEb,IAAIN,aAAa,OAAO;YACtB,IAAIE,KAAKK,YAAY;gBACnBL,KAAKM,aAAaJ,OAAOF,KAAKK,UAAU;mBACnC;gBACLL,KAAKO,YAAYL,KAAK;;eAEnB;YACLF,KAAKO,YAAYL,KAAK;;QAGxB,IAAIA,MAAMM,YAAY;YACpBN,MAAMM,WAAWC,UAAUb;eACtB;YACLM,MAAMK,YAAYR,SAASW,eAAed,GAAG,CAAC;;AAElD;;;ICzBA,SAASe,SAASC,MAAMC;QACpB,IAAIC,iBAAiBD,GAAGE,OAAOJ;QAC/BC,KAAKI,SAAS;YACV,IAAIF,gBAAgB;gBAChB,IAAIG,aAAaC,MAAMC,MAAM,MAAMpB,SAASqB,iBAAiB,gBAAgB,CAAC;gBAC9E,IAAIC,WAAW,EAAC,gCAAgC,oCAAoC,WAAUC,KAAK,EAAE;gBACrGL,WAAWM,QAAQ,SAAUC;oBACzB,IAAI,CAACV,eAAeW,UAAUX,eAAeY,SAASF,IAAIG,cAAc;wBACpEH,IAAII,UAAUC,IAAI,WAAW;;oBAEjCL,IAAItB,MAAM4B,YAAYhB,eAAeY,SAAS;oBAC9CF,IAAIO,mBAAmB,aAAaV,QAAQ;iBAC/C;;SAER;QAEDT,KAAKoB,QAAQ;YACT,IAAIlB,gBAAgB;gBAChB,IAAImB,eAAelC,SAASmC,cAAc,UAAU;gBACpDD,aAAaE,iBAAiB,SAAS,SAAUC;oBAC7C,IAAIC,mBAAmBD,IAAIE,OAAOV,UAAUW,SAAS,oBAAoB;oBACzE,IAAIF,kBAAkB;wBAClB,IAAIG,YAAYJ,IAAIE;wBACpB,IAAIG,SAASD,UAAUE,WAAWA;wBAClCD,OAAOb,UAAUe,OAAO,WAAW;wBACnCF,OAAOvC,MAAM4B,YAAY;;iBAEhC;;SAER;AACL;IC3BAc,OAAOC,WAAWD,OAAOC,YAAY;IACrCD,OAAOC,SAASC,UAAU,EAACnC,WAAUoC,OAAOH,OAAOC,SAASC,WAAW,EAAE;"}